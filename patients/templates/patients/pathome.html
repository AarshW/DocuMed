{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <title>Document</title>
    <style>
      body {
        margin: 0;
        padding: 0;
        font-family: Arial, sans-serif;
        font-weight: bold;
        font-size: 25px;
        background-color: #f8f8f8;
      }
      .navbar {
        background-color: #0bb7e1;
        padding: 30px 25px;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }
      .navbar-brand {
        margin: 0;
      }
      .end-buttons {
        display: flex;
        align-items: center;
    }

    .end-buttons button {
        margin-left: 10px;
        padding: 10px 20px;
        border: none;
        border-radius: 5px;
        background-color: #daa521;
        color: #fff;
        font-size: 16px;
        font-weight: bold;
        cursor: pointer;
        transition: background-color 0.3s;
    }

    .end-buttons button:last-child {
        margin-right: 10px;
    }

    .end-buttons button:hover {
        background-color: #c6951b;
    }
      .container {
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 20px;
      }
      .row {
        display: flex;
        justify-content: space-between;
        margin-top: 20px;
      }
      .section {
        flex: 1;
        border: 1px solid #000;
        text-align: center;
        padding: 20px;
        margin: 10px;
        background-color: #fff;
        border-radius: 10px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        position: relative;
        max-width: 300px; /* Adjusted width to prevent text from wrapping */
      }
      .section-content {
        position: relative;
        height: calc(
          100% - 60px
        ); /* Adjusted height to accommodate the button */
      }
      .section h3 {
        margin-bottom: 10px;
      }
      .icon {
        max-width: 100%;
        height: auto;
        margin-bottom: 10px;
        max-height: 150px; /* Added max height to make images symmetrical */
      }
      .access-btn {
        background-color: blue;
        color: white;
        font-size: 17px;
        border: 1px solid grey;
        border-radius: 20px;
        padding: 10px 20px;
        cursor: pointer;
        margin-top: 10px;
        transition: background-color 0.3s;
        text-decoration: none;
      }
      .access-btn:hover {
        background-color: #0b7dda;
      }
      .alert-success {
        color: green;
        background-color: #d4edda;
        border-color: #c3e6cb;
        padding: .75rem 1.25rem;
        margin-bottom: 1rem;
        border: 1px solid transparent;
        border-radius: .25rem;
        transition: opacity 0.5s ease-out;
    }
    
    .alert-error {
        color: red;
        background-color: #f8d7da;
        border-color: #f5c6cb;
        padding: .75rem 1.25rem;
        margin-bottom: 1rem;
        border: 1px solid transparent;
        border-radius: .25rem;
        transition: opacity 0.5s ease-out;
    }
    

    </style>
</head>
<body>
    <nav class="navbar">
      <div class="navbar-brand">
        <a href="{% url 'patient:patient-home' %}" style="text-decoration: none; color: inherit;">DocuMED</a>
    </div>
    <div class= "end-buttons">
      
    <form action="{% url 'patient:patprofile' %}" method="get">
      <button type="submit">View Profile</button>
  </form>
  <form action="{% url 'logout' %}" method="post">
      {% csrf_token %}
      <button type="submit">Logout</button>
  </form>
</div>
    </nav>
    <div class="container">
      {% if messages %}
        {% for message in messages %}
            {% if message.tags == 'success' %}
                <div class="alert alert-success">
                    {{ message }}
                </div>
            {% elif message.tags == 'error' %}
                <div class="alert alert-error">
                    {{ message }}
                </div>
            {% endif %}
        {% endfor %}
    {% endif %}
        <div class="row">
          <div class="section">
            <div class="section-content">
                <h3>Available Doctors</h3>
                <img class="icon" src="{% static 'doctors_available.jpg' %}" alt="Doctors Available Photo" /><br />
            </div>
            <a class="access-btn" href="{% url 'patient:available_doctors' %}">Access</a>
        </div>
            <div class="section">
                <div class="section-content">
                    <h3>Upload Documents</h3>
                    <br>
                    <br>
                    <img class="icon" src="{% static 'Treatments.png' %}" alt="Treatments Photo" /><br />
                </div>
                <a class="access-btn" href="{% url 'patient:docupload' %}">Access</a>
            </div>
            <div class="section">
                <div class="section-content">
                    <h3>Current Prescriptions</h3>
                    <img class="icon" src="{% static 'current_prescriptions.png' %}" alt="Current Prescriptions Photo" /><br />
                </div>
                <a class="access-btn" href="{% url 'patient:medupload' %}">Access</a>
            </div>
            <div class="section">
              <div class="section-content">
                  <h3>Share</h3>
                  <img class="icon" src="{% static 'share.png' %}" alt="Share Photo" /><br />
              </div>
              <a class="access-btn" href="{% url 'patient:sharedoc' %}">Access</a>
          </div>
          <div class="section">
            <div class="section-content">
                <h3>Appointments</h3>
                <img class="icon" src="{% static 'appointment.png' %}" alt="Clock Photo" /><br />
            </div>
            <a class="access-btn" href="{% url 'patient:appointments' %}">Access</a>
        </div>
        </div>
        <div class="row">
            <div class="section">
                <div class="section-content">
                    <h3>Prescriptions</h3>
                    <br>
                    <img class="icon" src="{% static 'prescriptions.png' %}" alt="Prescriptions Photo" /><br />
                </div>
                <a class="access-btn" href="{% url 'patient:view_prescription' %}">Access</a>
            </div>
            <div class="section">
                <div class="section-content">
                    <h3>Lab Reports</h3>
                    <br>
                    <img class="icon" src="{% static 'Lab reports.png' %}" alt="Lab Reports Photo" /><br />
                </div>
                <a class="access-btn" href="{% url 'patient:view_lab' %}">Access</a>
            </div>
            <div class="section">
                <div class="section-content">
                    <h3>View Scans</h3>
                    <br>
                    <img class="icon" src="{% static 'view scans.png' %}" alt="View Scans Photo" /><br />
                </div>
                <a class="access-btn" href="{% url 'patient:view_scans' %}">Access</a>
            </div>
            <div class="section">
                <div class="section-content">
                    <h3>Medical Certificates</h3>
                    <img class="icon" src="{% static 'medical certificates.png' %}" alt="Medical Certificates Photo" /><br />
                </div>
                <a class="access-btn" href="{% url 'patient:view_certificate' %}">Access</a>
            </div>
        </div>
    </div>
    <script>
      // Function to display the success message
      function displaySuccessMessage(message) {
          const container = document.createElement('div');
          container.classList.add('alert', 'alert-success', 'fade', 'show');
          container.role = 'alert';
          container.textContent = message;
          document.body.appendChild(container);

          // Disappear smoothly after 3 seconds
          setTimeout(() => {
              container.classList.remove('show');
              container.classList.add('hide');

              // Remove the message from the DOM after animation completes
              container.addEventListener('transitionend', () => {
                  container.remove();
              });
          }, 3000);
      }

      // Check if the success message is present in the HTML
      const successMessage = document.getElementById('success-message');
      if (successMessage) {
          const message = successMessage.textContent.trim();
          displaySuccessMessage(message);
      }
  </script>
</body>
</html>
